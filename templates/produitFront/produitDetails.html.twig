<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  <title>{% block title %} ElBaldi {% endblock %}</title>
  <meta content="" name="description">
  <meta content="" name="keywords">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
    .icon-person {
        font-size: 25px;
    }
</style>

  <!-- Favicons -->
  <link href="{{asset('Front/img/elbaldi.jpg')}}" rel="icon">
  <link href="{{asset('Front/img/elbaldi.jpg')}}" rel="apple-touch-icon">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">


  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
{% block css%}
  <!-- Vendor CSS Files -->
  <link href="{{asset('Front/vendor/animate.css/animate.min.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/bootstrap/css/bootstrap.min.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/bootstrap-icons/bootstrap-icons.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/boxicons/css/boxicons.min.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/glightbox/css/glightbox.min.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/remixicon/remixicon.css ')}}" rel="stylesheet">
  <link href="{{asset('Front/vendor/swiper/swiper-bundle.min.css ')}}" rel="stylesheet">
  <!-- Template Main CSS File -->
  <link href="{{asset('Front/css/style.css')}}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Sailor
  * Updated: Mar 10 2023 with Bootstrap v5.2.3
  * Template URL: https://bootstrapmade.com/sailor-free-bootstrap-theme/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
{% endblock %}
</head>


{% block js%}
  <!-- Vendor JS Files -->
  <script src="{{asset('Front/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
  <script src="{{asset('Front/vendor/glightbox/js/glightbox.min.js')}}"></script>
  <script src="{{asset('Front/vendor/isotope-layout/isotope.pkgd.min.js')}}"></script>
  <script src="{{asset('Front/vendor/swiper/swiper-bundle.min.js')}}"></script>
  <script src="{{asset('Front/vendor/waypoints/noframework.waypoints.js')}}"></script>
  <script src="{{asset('Front/vendor/php-email-form/validate.js')}}"></script>

  <!-- Template Main JS File -->
  <script src="{{asset('Front/js/main.js')}}"></script>

{% endblock %}
 


{% block body %}
    <section id="portfolio-details" class="portfolio-details">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="portfolio-details-slider swiper-container">
                        <div class="swiper-wrapper align-items-center">
                           <div class="swiper-wrapper">
    <div class="swiper-slide">
        <img src="{{ asset('images/' ~ produit.image) }}" alt="{{ produit.libelle }}" />
    </div>
</div>
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="portfolio-info">
                        <h3 style="color:#9a000a;">{{ produit.libelle }}</h3>
                        
                        <ul>
                            <li><strong style="color:#9a000a;text-decoration: underline;">Référence</strong>: {{ produit.ref_produit }}</li>
                            <li><strong style="color:#9a000a;text-decoration: underline;">Catégorie</strong>: {{ produit.categorie.nomCategorie }}</li>
                            <li><strong style="color:#9a000a;text-decoration: underline;">Description</strong>: {{ produit.description }}</li>
                            <li><strong style="color:#9a000a;text-decoration: underline;">Prix</strong>: {{ produit.prixVente }} dt</li>
                        </ul>
                        <a href="{{ path('add_product_to_basket', { 'refProduit': produit.ref_produit, 'idPanier': panier.idPanier }) }}" style="background-color: #9a000a; color: #fff;padding: 5px 10px; border: none; border-radius: 3px; cursor: pointer;">Ajouter au panier</a>
                    </div>
                </div>
            </div>
            
                
            
           <div class="row">
    <div class="col-lg-12">
        <div class="portfolio-comments">
            <div class="col-lg-12">
                    <div class="portfolio-description">
                        <h2 style="color:#9a000a;text-decoration: underline;">Commentaires:</h2>
                    </div>
                </div>
            {% if commentaires is not empty %}
                {% for commentaire in commentaires %}
                    <div class="comment">
                        <div class="comment-info">
                         {# <img src="{{asset('Front/img/user.png')}}" alt="Photo de {{ commentaire.user.nom }}" style="width: 50px;"> #}
                          <i class="bi bi-person-circle icon-person"></i> 
                            <strong>{{ commentaire.user.nom }} {{ commentaire.user.prenom }}</strong> - {{ commentaire.date_comm|date('d/m/Y') }}
                        </div>
                        <div class="comment-text">
                            {{ commentaire.contenu }}
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>Aucun commentaire pour le moment.</p>
            {% endif %}
            <hr>
            {% for message in app.flashes('success') %}
    <div class="alert alert-success">{{ message }}</div>
{% endfor %}

{% for message in app.flashes('error') %}
    <div class="alert alert-danger">{{ message }}</div>
{% endfor %}

           <h3 style="font-size: 24px; margin-bottom: 10px; color:#9a000a">Laisser un commentaire</h3>
<form method="POST" action="{{ path('add_comment', {'ref_produit': produit.ref_produit}) }}" style="margin-bottom: 20px;">
    <input type="text" id="contenu" name="contenu" style="padding: 5px; font-size: 16px; border: 1px solid #ccc; border-radius: 3px; width: 100%; margin-bottom: 10px;">
    <button type="submit" style="background-color: #9a000a; color: #fff; padding: 5px 10px; border: none; border-radius: 3px; cursor: pointer;">Publier</button>
</form>

        </div>
    </div>
</div>

        </div>
    </section>

    <script>
function detecterMotsInappropries() {
  var commentForm = document.getElementById("comment-form");
  var commentContent = commentForm.contenu.value.toLowerCase();
  var badWords = ["mot1", "mot2", "mot3"]; // Ajoutez les mots inappropriés ici

  for (var i = 0; i < badWords.length; i++) {
    if (commentContent.includes(badWords[i])) {
      alert("Votre commentaire contient des mots inappropriés. Veuillez modifier votre commentaire avant de l'envoyer.");
      return false;
    }
  }
  return true;
}
</script>

{% endblock %}